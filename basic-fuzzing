Keep track on the processor registry.

Manual labor - binary tree
Smarter way - pattern create and pattern offset, ruby scripts
